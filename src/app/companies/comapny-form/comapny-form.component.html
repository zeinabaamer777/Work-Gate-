<div class="card">
  <div class="card-header card-header-danger">
    <h4 class="card-title">Edit companies List</h4>
  </div>
  <div class="card-body">
    <form [formGroup]="companyForm" #form="ngForm" id="companyForm" >
      <div class="row custom-no-gutters">
        <div class="col-md-12">
          <button mat-raised-button class="btn btn-info pull-right btn-sm" [hidden]="isHiddenEditActionBtn"
            (click)="showBtns()">Edit</button>

          <button mat-raised-button class="btn btn-danger pull-right btn-sm ml-auto" [hidden]="isHiddenCreateActionBtn"
            (click)="showCreateSaveBtn()">create</button>
        </div>
      </div>


      <div class="row custom-no-gutters">
        <div class="col-md-12">
          <mat-form-field>
            <mat-label>Activity</mat-label>
            <mat-select name="FD_Financials_year_end_date" class="form-control" (selectionChange)="selectGoverment($event)"
             formControlName="activity" >
              <mat-option *ngFor="let activity of activities | async" [value]="activity">
                <!-- {{activity.arName + " / " + activity.enName}} -->
                {{activity.enName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="alert alert-danger"
          *ngIf="companyForm.controls['activity'].invalid && (companyForm.controls['activity'].dirty || companyForm.controls['activity'].touched)">
           <span *ngIf="companyForm.get('activity').errors.required">
             This Field is required
           </span>
         </div>
         
        </div>
      </div>
      

      <!-- <div class="row custom-no-gutters">
        <div class="col-md-12">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="اسم الشركة" type="text" formControlName="ComapnyNameAr" class="form-control">
          </mat-form-field>
        </div>
      </div> -->

      <div class="row custom-no-gutters">
        <div class="col-md-12">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Company Name" type="text" formControlName="CompanyNameEn" class="form-control">
          </mat-form-field>
          <div class="alert alert-danger"
             *ngIf="companyForm.controls['CompanyNameEn'].invalid && (companyForm.controls['CompanyNameEn'].dirty || companyForm.controls['CompanyNameEn'].touched)">
              <span *ngIf="companyForm.get('CompanyNameEn').errors.required">
                This Field is required
              </span>
             
              <span *ngIf="companyForm.get('enName').errors?.isValidInput">
                Only english characters
              </span>
            </div>
        </div>
      </div>

      

      <!-- <div class="row custom-no-gutters">
        <div class="col-md-6">
          <div class="form-group">
            <label for="country-select">Country</label>
            <select class="country" name="parent_selection" [ngModel]="selectedCountry" (change)="selectPlace()" 
                formControlName="countryId" id="country-select">
              <option *ngFor="let place of places | async" [ngValue]='place'>{{place.placeNameAr}}</option>
            </select>
          </div>
          (selectionChange)="selectPlace()"
        </div>
      </div> -->

      <div class="row custom-no-gutters">
        <div class="col-md-12">
          <mat-form-field>
            <mat-label>Country</mat-label>
            <mat-select #selected name="FD_Financials_year_end_date" class="form-control" (selectionChange)="selectPlace($event)" formControlName="country">
              <mat-option *ngFor="let place of places | async" [value]="place">
                {{place.placeNameEn}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div class="row custom-no-gutters">
        <div class="col-md-12">
          <mat-form-field>
            <mat-label>Governorates</mat-label>
            <mat-select name="FD_Financials_year_end_date" class="form-control" (selectionChange)="selectGoverment($event)" formControlName="goverment">
              <mat-option *ngFor="let place of goverments" [value]="place">
                {{place.placeNameEn}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
        <div class="row custom-no-gutters" [hidden]="isHiddenSaveCreateBtn">
          <button type="submit" mat-raised-button  class="btn btn-danger pull-left btn-sm" 
            [disabled]="companyForm.invalid" (click)="onSubmit(companyForm.value)">create new company</button>
          <button mat-raised-button class="btn btn-danger pull-right btn-sm" (click)="Cancel()">cancel</button>
        </div>
        <div class="row custom-no-gutters" [hidden]="isHiddenSaveActionBtn">
          <button mat-raised-button class="btn btn-danger pull-left btn-sm" [disabled]="companyForm.invalid"
            (click)="updatePosition(companyForm.value)">Update Company</button>

          <button mat-raised-button class="btn btn-danger pull-right btn-sm" (click)="Cancel()">cancel</button>
        </div>

    </form>
  </div>
</div>